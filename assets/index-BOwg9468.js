const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CreateCardModal-B2-hGr5q.js","assets/index-DsFqEVfq.js","assets/index-BEi75TEv.css","assets/validateCardForm-DCqSEpRp.js","assets/toast-BXX00uJE.js","assets/getImageUrl-VL8xLnK6.js","assets/indexedDB-hkH7-2RZ.js"])))=>i.map(i=>d[i]);
import{r as i,i as P,c as m,f as S,u as z,o as U,j as s,a as I,_ as V,b as F,S as $}from"./index-DsFqEVfq.js";import{I as K,a as X,g as v,M as L,A as N}from"./indexedDB-hkH7-2RZ.js";import{u as q,a as J,B as b,s as w}from"./toast-BXX00uJE.js";function Q(e){return i.Children.toArray(e).filter(t=>i.isValidElement(t))}function Y(e,t){return Array.isArray(e)?e.map(n=>n===null?null:t(n)):P(e)?Object.keys(e).reduce((n,r)=>(n[r]=t(e[r]),n),{}):e!=null?t(e):null}const A=m("div");A.displayName="Box";const E=S(function(t,n){const r=z("Link",t),{className:a,isExternal:c,...o}=U(t);return s.jsx(m.a,{target:c?"_blank":void 0,rel:c?"noopener":void 0,ref:n,className:I("chakra-link",a),...o,__css:r})});E.displayName="Link";const T=e=>s.jsx(m.div,{className:"chakra-stack__item",...e,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...e.__css}});T.displayName="StackItem";function Z(e){const{spacing:t,direction:n}=e,r={column:{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":Y(n,a=>r[a])}}const W=S((e,t)=>{const{isInline:n,direction:r,align:a,justify:c,spacing:o="0.5rem",wrap:x,children:l,divider:h,className:B,shouldWrapChildren:f,...M}=e,y=n?"row":r??"column",C=i.useMemo(()=>Z({spacing:o,direction:y}),[o,y]),d=!!h,g=!f&&!d,O=i.useMemo(()=>{const p=Q(l);return g?p:p.map((u,_)=>{const j=typeof u.key<"u"?u.key:_,R=_+1===p.length,k=f?s.jsx(T,{children:u},j):u;if(!d)return k;const G=i.cloneElement(h,{__css:C}),H=R?null:G;return s.jsxs(i.Fragment,{children:[k,H]},j)})},[h,C,d,g,f,l]),D=I("chakra-stack",B);return s.jsx(m.div,{ref:t,display:"flex",alignItems:a,justifyContent:c,flexDirection:y,flexWrap:x,gap:d?void 0:o,className:D,...M,children:O})});W.displayName="Stack";const ee=i.lazy(()=>V(()=>import("./CreateCardModal-B2-hGr5q.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),se="https://github.com/yixuan173/reward-card",te=`${X}/logo-github.svg`,oe=()=>{const{isOpen:e,onOpen:t,onClose:n}=q(),r=J(),a=F(),c=async()=>(await v()).length>=L,o=async()=>{if(await c()){w(r,`已達最大集點卡數量(${L}張)，無法繼續新增。`,N.WARNING);return}t()},x=async()=>{(await v()).length>0?a("/list"):w(r,"請先新增集點卡！！！",N.INFO)};return s.jsxs("div",{className:"h-screen flex flex-col justify-center items-center",children:[s.jsxs("div",{className:"flex flex-col justify-center items-center gap-14 m-auto",children:[s.jsx("h1",{className:"text-5xl font-bold text-pink-400",children:"乖寶寶集點卡"}),s.jsx("section",{children:s.jsxs(W,{spacing:"20px",children:[s.jsxs(b,{colorScheme:"pink",size:"lg",onClick:o,children:["新增集點卡",e&&s.jsx($,{size:"sm",speed:"0.7s",ml:2})]}),s.jsx(b,{colorScheme:"pink",size:"lg",variant:"outline",onClick:x,children:"查看集點卡"})]})}),e&&s.jsx(i.Suspense,{fallback:null,children:s.jsx(ee,{isOpen:e,onClose:n})})]}),s.jsxs(A,{as:"footer",py:"4",textAlign:"center",className:"flex justify-center items-center",children:[s.jsx("span",{children:"2025"}),s.jsx(E,{href:se,isExternal:!0,ml:"2",children:s.jsx(K,{src:te,boxSize:"24px",alt:"GitHub Logo"})})]})]})};export{oe as default};
