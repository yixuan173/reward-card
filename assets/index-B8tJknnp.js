import{d as h,f as r,e as j,o as y,j as e,c as d,I as g,r as c,L as T}from"./index-Dr4ijXKz.js";import{H as b}from"./Header-DyfecfBH.js";import{I as C,a as I,M as L,g as N}from"./indexedDB-Bs-VvnGT.js";import{g as v}from"./getImageUrl-VL8xLnK6.js";const[S,m]=h({name:"TagStylesContext",errorMessage:`useTagStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tag />" `}),x=r((s,t)=>{const a=j("Tag",s),l=y(s),n={display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%",...a.container};return e.jsx(S,{value:a,children:e.jsx(d.span,{ref:t,...l,__css:n})})});x.displayName="Tag";const p=r((s,t)=>{const a=m();return e.jsx(d.span,{ref:t,noOfLines:1,...s,__css:a.label})});p.displayName="TagLabel";const w=r((s,t)=>e.jsx(g,{ref:t,verticalAlign:"top",marginEnd:"0.5rem",...s}));w.displayName="TagLeftIcon";const A=r((s,t)=>e.jsx(g,{ref:t,verticalAlign:"top",marginStart:"0.5rem",...s}));A.displayName="TagRightIcon";const u=s=>e.jsx(g,{verticalAlign:"inherit",viewBox:"0 0 512 512",...s,children:e.jsx("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})});u.displayName="TagCloseIcon";const _=r((s,t)=>{const{isDisabled:a,children:l,...n}=s,i={display:"flex",alignItems:"center",justifyContent:"center",outline:"0",...m().closeButton};return e.jsx(d.button,{ref:t,"aria-label":"close",...n,type:"button",disabled:a,__css:i,children:l||e.jsx(u,{})})});_.displayName="TagCloseButton";const R=`${I}/card.webp`,k=s=>{const{id:t,title:a,currentPoints:l,cardImage:n}=s,[o,i]=c.useState(!0),f=()=>{setTimeout(()=>{i(!1)},500)};return e.jsx(T,{to:`/${t}`,children:e.jsxs("div",{className:"w-full relative flex flex-col items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`absolute top-0 left-0 w-full h-64 bg-pink-200 animate-pulse ${o?"block":"hidden"}`}),e.jsx(C,{src:v(n,R),alt:a,objectFit:"cover",className:`w-full h-64 ${o?"opacity-0":"opacity-100"}`,onLoad:f})]}),e.jsx("h2",{className:"text-2xl font-bold text-pink-600",children:a}),e.jsx(x,{size:"lg",colorScheme:"red",borderRadius:"full",className:"absolute -top-3 -right-3",children:e.jsx(p,{children:l})})]})},t)},D=()=>{const[s,t]=c.useState([]),a=async()=>{const l=await N();t(l)};return c.useEffect(()=>{a()},[]),e.jsxs("div",{className:"flex flex-col items-center h-screen mb-12",children:[e.jsx(b,{}),e.jsxs("section",{className:"mt-12 w-full px-6 pb-8 max-w-lg",children:[e.jsxs("span",{className:"font-bold text-pink-600 text-lg",children:["卡片數量：",s.length," / ",L]}),e.jsx("div",{className:"grid grid-cols-2 gap-8 mt-2",children:s.map(({id:l,title:n,currentPoints:o,cardImage:i})=>e.jsx(k,{id:l,title:n,currentPoints:o,cardImage:i},l))})]})]})};export{D as default};
